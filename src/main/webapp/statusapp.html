<!DOCTYPE html> 
<html> 
<head> 
	<title>Status Update</title> 
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
	<meta name="viewport" 
		content="width=device-width, initial-scale=1" /> 
	<link rel="stylesheet" 
		href="css/jquery.mobile-1.1.0.min.css" /> 
	<script type="text/javascript" 
		src="js/libs/jquery-1.7.1.min.js"></script> 
	<script type="text/javascript" 
		src="js/libs/jquery.mobile-1.1.0.min.js"></script> 
		
	<script type="text/javascript"> 
	    var endpointURL = "rest/statusupdate";
	    
		$(document).on("pageinit", "#page1", function(event){ 

			refreshList();
			
		    // btnRefresh event handler
		    $("#btnRefresh").tap(function () {
			    console.log("tapped/clicked");
			    refreshList();
		    });
		}); 

		function refreshList() {
			$.getJSON(endpointURL, function(events) {
			    console.log("returned are " + events);
			
		    	var listOfEvents = $("#listOfItems");
		    	listOfEvents.empty();
		    	$.each(events, function(index, event) {
		            // console.log(event.name);
		            listOfEvents.append("<li><a href='#'>" + event.first_name + " " + event.last_name + "</a>");
		    	});
		    	listOfEvents.listview("refresh");
			}); // getJSON   			
		} // refreshList()
	</script> 
</head> 
<body> 
	<div data-role="page" id="page1"> 
		<div data-role="header"> 
			<h1>jQuery Mobile</h1> 
		</div> 
		<div data-role="content"> 
			<a id="btnRefresh" href="#" data-role="button">Refresh</a>
			<ul id="listOfItems" data-role="listview" data-inset="true" 
				data-filter="false"> 
				<li><a href="">One</a></li> 
				<li><a href="">Two</a></li> 
				<li><a href="">Three</a></li> 
			</ul> 
		</div> 
		<div data-role="footer"> 
			<h4>www.jboss.org/developer</h4> 
		</div> 
	</div> 
</body> 
</html>